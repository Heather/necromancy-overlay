Close

# Copyright 1999-2016 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2
# $Id$

EAPI=6

PYTHON_COMPAT=( python2_7 )
inherit python-single-r1 git-r3

DESCRIPTION="Malwarehouse is a warehouse for your malware. for Advanced clasicfier for malware with yara etc."
HOMEPAGE="https://github.com/sroberts/malwarehouse"
EGIT_REPO_URI="https://github.com/sroberts/malwarehouse.git"
EGIT_COMMIT=""

LICENSE="GPL-3"
SLOT="0"
KEYWORDS="~amd64 ~x86"
#IUSE="tools"

DEPEND=""
RDEPEND="dev-python/poster
         dev-python/sqlalchemy
	 dev-python/python-magic
	 dev-python/pydeep
	 dev-python/yara-python
	"



S="${WORKDIR}/malwarehouse-${PV}"

src_install() {
	rm -r config/
	rm -r setup/

	dodir /usr/bin/${PN}/
	cp -R * "${ED}"/usr/bin/${PN} || die "Copy files failed"
	#python_fix_shebang "${ED}"/usr/$()/${PN}/

	#use our custom settings
	#insinto /etc/veil
	#newins "${FILESDIR}"/${PN}-2.23-settings.py settings.py

	dosym /usr/bin/malwarehouse/malware_manager.py  /usr/bin/malware_manager
	dosym /usr/bin/malwarehouse/malware_sample.py  /usr/bin/malware_sample
	dosym /usr/bin/malwarehouse/malware_sample_model.py  /usr/bin/malware_sample_model
	 
}
